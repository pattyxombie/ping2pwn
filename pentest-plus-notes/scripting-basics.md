# Scripting
Essential for nt scanning, automating attacks, and meeting pentest goals.
Helps to be thorough and precise!

# Shells and Programming Languages

#### Script
- A list of cmds that are exe by a certain program or scripting engine. There are 6 on the exam.

Exam tips: read and understand 6 languages: bash, ps, ruby, python, perl, js. Read to understand what it is doing. Basic syntax.

## 1. Bash
A scripting language and command shell for unix-like systems that is default shell for Linux and macOS. Can also set it up on unix.
- supports elements such as variables, loops, conditional statements, functions, and more

 Always starts with shebang `#!/bin/bash`. This is telling the computer this is written in bash.

 `echo` prints this to the screen. Benefit is to tell the user what is going on.

 ## 2. Powershell
 A scripting language and command shell for Windows exclusively
 Supports - variables, loops, conditional statements, functions, cmdlets that use a verb-noun syntax. Difference from bash is that cmdlets are used.

 ex. `Write-Host "Retrieiving Logon Failures"` verb-noun

`Get-EventLog -Newest 5 -LogName Security -InstanceId 4625 | select`

`timewritten, message | OutFile C:\logon-failures.txt`

`Write-Host "Completed"`
This is a search command for logon failures, and then select those entries, and lets you know when it is completed

###  WMIC (Windows Management Instrumentation Command-Line)
Program used to review log files ona  remote Windows machine

`wmic NTEVENT
WHERE "LogFile='Security'
AND "EventType=5" GET
SourceName, TimeGenerated, Message`

Selects all security type log entries whose events are type 5 (login failures)

## 3. Python and 4. Ruby
Interpreted, high-level, general purpose programming langauges used heavily in cybersecurity by analysts and pentesters because easy to write in, great at searching files, scripting languages so they go through line by line, they are not compiled, easy to read the source code

## 5. Perl
Another general purpose interpreted programming language that can be used as a scripting language like python and ruby. Created in 1980s as a general-purpose unix scripting language used for text manipulation. Perl was used on web servers for dynamic content generation. Practical, easy to use, efficient, a lot of third party modules.

## 6. JavaScript
A scripting langugage only that allows devs to do fancy and complex things on a webpage, popups, on click actions. Many versions such as ReactJS (front-end of the website) or NodeJS (Back-end of the website). A lot of webapp pentesting get familiar with js. Finding vulnerable js components. 

 
 # Variables
 Used to store values and data for different data types. 5 types.

 ## Integers
 A variable that stores an integer or a whole number that may be positive or negative, whole numbers. Can do mathematical equations with these. Cannot add an integer and decimal. 

 ## Float/Decimal/Real Number
 A variable that stores a decimal

 ## Booleans
 A form of data with only two possible values: true or false, depends on programming language but can even be delineated by a 1 or 0

 ## Character
 A variable that can only store ONE ASCII character, can be a number, letter, as long as it is an ASCII char. Just one. 

 ## Strings
 A variable that stores multiple char, but does not allow mathematical functions. Will need to put numbers into integers!

 Variables can change throughout the exe of a program. Program might initiate the variables with a starting value, ex. ` firstname = Xombie ` then in the program firstname is asked. It will then change it to whatever is inputted. 

 ## Constant
 Like a variable, but it cannotbe changed within the program once defined. Some things won't change during execution, like mathematical equations that contain pie. Pie will always be a constant.

 How do we define value of vairbables and constants?
 In most programming languages use an ` = `.

 # Loops
A type of flow control that controls which order the code will be exe in a given program. Ex. a piece of code 10 different times, logic takes over until it completes the 10 times. 3 types of loops:

## For loop
Used when the number of times to repeat a block of code is known. Simplest, ex. 
```
For i = 1 to 10
     OUTPUT(i)
Endfor
```
It will start with 1, and then go through the loop. Each time it will print to the screen the value of i.
Resulting in:
`1, 2, 3, 4, 5, 6, 7, 8, 9, 10`
It then stops executing

## While loop
Used when the number of times to repeat a block of code is not known and will only stop until something happens.
Setup a condition, and the code tests for it at the beginning of the loop:

```
i = 0
While i < 10
     OUTPUT(i)
     i = i + 1
Endwhile
```
i is initially set to 0, so it will print out 1 as i. Once i = 10, the loop will not run.

## Do loop
Used when there's an indefinite iteration that needs to happen will only stop until some condition is met at the end of the loop. Testing condition at the end of the loop instead of the begining, we want to do this if we want to make sure the code always runs at least one time.

```
Do
     OUTPUT(i)
     i = i + 1
Unitl i > 10
```
if i = 50, it will still print it out at least once.

A more realstic example of a Do Loop:

```
Do
     OUTPUT(file.readLine)
Until file.endOfFile
```
It will print the file to the screen line by line, until it is at the end, then it stops.

# Logic Control
Used to provide conditions based on different logical tests using operators:

## 1. Boolean operator

```
IF x = 1 THEN
     OUTPUT "The statement was true"
ELSE
     OUTPUT "The statement was false"
ENDIF
```

## 2. Arithmetic operator
```
IF balance < 10.00 THEN
     OUTPUT "The account has insufficient funds."
ELSE
     OUTPUT "The account has at least $10.00"
ENDIF

```

## 3. String operator
```
IF x = "xombie" THEN
     OUTPUT "The user was xombie"
ELSE
     OUTPUT "The user was someone else"
ENDIF
```


You can also combine things to do additional checks for including and excluding certain things:
```
IF minutes > 120 THEN
     OUTPUT "You have studied for 2 hours"
ELSE IF minutes > 60 THEN
     OUTPUT "You should continue to studied for    another hour"
ELSE
     OUTPUT "You need to study for a minimum of 2 hours"
ENDIF
```

# Data Structures

## JavaScript Object Notation (JSON)
An open data file format and data exchange standard that uses human-readable text to store and transmit data objects. Consist of different key value pairs and arrays. Commonly used in transactions between servers and clients, such as web apps and scripts with servers. JSON is used by Python, Ruby, and Perl. As the data comes in it makes it easy to parse it to take the data to load it into variables, arrays, lists, dictionaries, and other data formats.

ex. 
```
{
"firstName": "xombie",
"lastName": "anon",
"isAlive": true,
"studying": {
     "cyberSecurity": true,
     "programmingLanguages": "Python"
     "GRC": true"
}
}
```

## Key Value Pair
Assigns some value to some type of title or key that might be used as a variable. As seen in JSON. On the left the key, and the right is the value. Assigning some value to a key.  Strings will be surrounded by `""`, true/false and numbers do not need quotes

## Array
A type of data structure that is used to hold multiple values of the same type. ex. 
`name = [first, middle, last] 
name = ["John", "Anon", "Doe"]
name[1] => Anon`
Computers always count starting at 0, so 1 would be `Anon`
Arrays are a list with commas in between each value
name[2] will retrieve the third name

## Dictionary
An array of key value pairs; instead of storing a single value it will store key value pairs. Ex. Names and Phones for a phone book. An array of key value pairs.
ex. 
```
phonebook = {"John": "555-5555", "Mary": "222-2222"]
```
phonebook{"John"} would return the 555 number


## CSV Comma Separated Values
Stored in a text delimited format, using a comma to separate each of those values.  A flat database. If you have commas in the data it can throw off the records if not escaped first. The first line can be used to define the categories of each line.

## List
A type of data structure that can hold multiple values of different data types in a sequential manner. Can mix and match data types. Every element on a list is called an index. Starts at 0 and goes to the positive index. 
my_List = [ 1, 2, 3, "string", 19.99 ] 
my_List[3] to get the fourth position

## Tree
A non-linear data structure that is used to create a hierarchy. A root and nodes.

Root is the baseline which the other nodes originate from, they will be other datapoints.

Root
- Child
- - Leaf
-  Child
-  - Leaf
 
 HTML, AD both use trees


# Object Oriented Programming
A programming paradigm based on the concept of "objects", which can contain data (fields) and code (procedures). Most programming languages are object-oriented: python, ruby, perl, js, and powershell. Bash is a scripting language that DOES NOT support oop.

## Functions
A block of code that is given a special name which can be called to perform the code within. This allows programs to be modular, so you can use these functions across programs.

## Procedure
Can be anything such as a function, method, routine, or subroutines that take input, generates output, and manipulates data. 

## Class
The definition for the data format and the available procedure for a given type or class of object

## Library
Takes and places pieces of code into reusable areas. Referencing the library will load all those functions for you. External collection of diff classes, functions, and procedures that can be reused

 
